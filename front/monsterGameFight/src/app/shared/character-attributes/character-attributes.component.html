<mat-card *ngIf="character$ | async as character" class="attributes-card">
    <mat-card-title>Atributos del Personaje</mat-card-title>
    <mat-card-content>
      <p><strong>Nivel:</strong> {{ character.level }}</p>
      <p><strong>XP Disponible:</strong> {{ character.currentXp }}</p>
      <p><strong>Puntos de Mejora:</strong> {{ character.upgrade_points }}</p>
  
      <div class="attribute">
        <p><strong>Ataque:</strong> {{ character.attack }}</p>
        <button mat-button color="primary"
          *ngIf="attributeCosts['attack'] !== undefined && character.currentXp !== undefined && character.currentXp >= attributeCosts['attack']"
          (click)="upgradeAttribute('attack')"
          [disabled]="isLoading['attack']">
          {{ isLoading['attack'] ? 'Mejorando...' : 'Mejorar (XP: ' + attributeCosts['attack'] + ')' }}
        </button>
      </div>
  
      <div class="attribute">
        <p><strong>Defensa:</strong> {{ character.defense }}</p>
        <button mat-button color="primary"
          *ngIf="attributeCosts['defense'] !== undefined && character.currentXp !== undefined && character.currentXp >= attributeCosts['defense']"
          (click)="upgradeAttribute('defense')"
          [disabled]="isLoading['defense']">
          {{ isLoading['defense'] ? 'Mejorando...' : 'Mejorar (XP: ' + attributeCosts['defense'] + ')' }}
        </button>
      </div>
  
      <div class="attribute">
        <p><strong>Salud:</strong> {{ character.health }}</p>
        <button mat-button color="primary"
          *ngIf="attributeCosts['health'] !== undefined && character.currentXp !== undefined && character.currentXp >= attributeCosts['health']"
          (click)="upgradeAttribute('health')"
          [disabled]="isLoading['health']">
          {{ isLoading['health'] ? 'Mejorando...' : 'Mejorar (XP: ' + attributeCosts['health'] + ')' }}
        </button>
      </div>
    </mat-card-content>
  </mat-card>
  